<div class="guest-preferences-wrapper">
  @if(guestPreferences){
    <div class="guest-wrapper">
    @for(item of guestPreferences; track item){
      @if(item.registered){
        <h2>Dina anmälda gäster är:</h2>
        <h3>{{item.firstName + ' ' + item.lastName}}</h3> 
        <p>Matpreferens: {{item.foodPreference ? item.foodPreference : 'Ingen preferens'}}</p>
        <p>Allergi: {{item.allergi}}</p>   
      }
    }
    </div>
    @if(notRegisteredIds.length != 0){
      <div class="registration-wrapper">
        <h2>Du kan fortfarande anmäla {{notRegisteredIds.length == 1 ? '1 person' : notRegisteredIds.length + ' personer'}}</h2>
        <button (click)="createGuestRegistration()">Klicka här för att anmäla en till person</button>
      </div>
    }
    @for(id of idsToBeRegistered; track id){
      <p>{{id}}</p>
      <app-registration [guestId]="id" (formSubmitted)="onGuestFormSubmit($event)"></app-registration>
    }
  }
</div>
<button (click)="setGuestPreferences()">Spara anmälan</button>
<button (click)="logout()">Logga ut</button>